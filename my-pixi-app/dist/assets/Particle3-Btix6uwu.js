const h=(i,t)=>Math.random()*(t-i)+i;function o(i){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}class n{constructor(t,r,s=0,e,l,a=30){this.angle=Math.PI/180*h(s-a,s+a),this.r=h(10,50),this.x=t*innerWidth,this.y=r*innerHeight,this.vx=this.r*Math.cos(this.angle),this.vy=this.r*Math.sin(this.angle),this.friction=.89,this.gravity=.5,this.width=10,this.height=10,this.opacity=1,this.widthDelta=h(0,360),this.heightDelta=h(0,360),this.rotation=h(0,360),this.rotationDelta=h(-1,1),this.colors=e||["#FF588F","#FF884B","#FFD384","#fff9B0"],this.color=o(this.colors[Math.floor(h(0,this.colors.length))]),this.shapes=l||["circle","square"],this.shape=this.shapes[Math.floor(h(0,this.shapes.length))]}update(){this.vy+=this.gravity,this.vx*=this.friction,this.vy*=this.friction,this.x+=this.vx,this.y+=this.vy,this.opacity-=.005,this.widthDelta+=2,this.heightDelta+=2,this.rotation+=this.rotationDelta}drawSquare(t){t.fillRect(this.x,this.y,this.width*Math.cos(Math.PI/180*this.widthDelta),this.height*Math.sin(Math.PI/180*this.heightDelta))}drawCircle(t){t.beginPath(),t.ellipse(this.x,this.y,Math.abs(this.width*Math.cos(Math.PI/180*this.widthDelta))/2,Math.abs(this.height*Math.sin(Math.PI/180*this.heightDelta))/2,0,0,Math.PI*2),t.fill(),t.closePath()}draw(t){switch(t.translate(this.x+this.width*1.2,this.y+this.height*1.2),t.rotate(Math.PI/180*this.rotation),t.translate(-this.x-this.width,-this.y-this.height),t.fillStyle=`rgba(${this.color.r}, ${this.color.g}, ${this.color.b} ,${this.opacity})`,this.shape){case"square":this.drawSquare(t);break;case"circle":this.drawCircle(t);break}t.resetTransform()}}export{n as P};
