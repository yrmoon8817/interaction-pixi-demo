import"./index-DMlA-7KB.js";import{r as t,h as c}from"./utils-DQaJ-aSb.js";import{G as e}from"./Graphics-qsRIA3UI.js";class y{constructor(i,s,h=0,o,r,a=30){this.angle=Math.PI/180*t(h-a,h+a),this.r=t(10,50),this.x=i,this.y=s,this.vx=this.r*Math.cos(this.angle),this.vy=this.r*Math.sin(this.angle),this.friction=.89,this.gravity=.5,this.width=10,this.height=10,this.opacity=1,this.widthDelta=t(0,360),this.heightDelta=t(0,360),this.rotation=t(0,360),this.rotationDelta=t(-1,1),this.colors=o||["#FF588F","#FF884B","#FFD384","#fff9B0"];const l=this.colors[Math.floor(t(0,this.colors.length))];this.color=c(l),this.shapes=r||["circle","square"],this.shape=this.shapes[Math.floor(t(0,this.shapes.length))],this.graphics=new e,this.graphics.x=this.x,this.graphics.y=this.y,this.graphics.rotation=this.rotation*Math.PI/180,this.graphics.alpha=this.opacity,this.drawInitial()}drawInitial(){const{graphics:i}=this;i.clear(),this.shape==="square"?i.rect(-this.width/2,-this.height/2,this.width,this.height).fill({color:(this.color.r<<16)+(this.color.g<<8)+this.color.b,alpha:1}):i.ellipse(0,0,this.width/2,this.height/2).fill({color:(this.color.r<<16)+(this.color.g<<8)+this.color.b,alpha:1})}update(i){this.vy+=this.gravity,this.vx*=this.friction,this.vy*=this.friction,this.x+=this.vx,this.y+=this.vy,this.opacity-=.007,this.widthDelta+=2,this.heightDelta+=2,this.rotation+=this.rotationDelta,this.graphics.x=this.x,this.graphics.y=this.y,this.graphics.rotation=this.rotation*Math.PI/180,this.graphics.alpha=this.opacity;const s=this.width*Math.cos(Math.PI/180*this.widthDelta),h=this.height*Math.sin(Math.PI/180*this.heightDelta);this.graphics.clear(),this.shape==="square"?this.graphics.rect(-s/2,-h/2,s,h).fill({color:(this.color.r<<16)+(this.color.g<<8)+this.color.b,alpha:1}):this.graphics.ellipse(0,0,Math.abs(s/2),Math.abs(h/2)).fill({color:(this.color.r<<16)+(this.color.g<<8)+this.color.b,alpha:1})}}export{y as P};
